# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=mos -mcpu=mosspc700 -run-pass=instruction-select -verify-machineinstrs -o - %s | FileCheck %s
--- |
  define void @br_indirect() {
    entry:
      ret void
  }
---
name: br_indirect
legalized: true
regBankSelected: true
body: |
  bb.0.entry:
    ; CHECK-LABEL: name: br_indirect
    ; CHECK: %0:imag16, early-clobber %2:gpr = LDImm16 blockaddress(@br_indirect, %ir-block.entry)
    ; CHECK-NEXT: [[LDImm:%[0-9]+]]:xc = LDImm 0
    ; CHECK-NEXT: JMPIndir %0, implicit killed [[LDImm]]
    ; CHECK-NEXT: RTS
    %0:any(p0) = G_BLOCK_ADDR blockaddress(@br_indirect, %ir-block.entry)
    G_BRINDIRECT %0
    RTS
...
